(function(a){a.fn.apc=function(){var n={ajax_processing:new Array(),visible_num:new Array(),preload_num:new Array(),total_items:new Array(),initial_offset:new Array(),blog_url:"",show_title:new Array(),show_excerpt:new Array(),post_type:new Array(),category:new Array(),tax_filters:new Array(),loop:new Array(),items:new Array(),list:new Array(),visible_container:new Array(),list_offset:new Array()};var p=function(){a(".apc_visible_container").css({overflow:"hidden"});a(".apc_list").css({margin:0,padding:0,position:"relative"})};var h=function(){p();a(".apc_out_container").each(function(z){var y=a(this).children(".apc_carousel_vars").val().split(",");n.visible_num[z]=Number(y[0]);n.preload_num[z]=Number(y[1])-n.visible_num[z];n.total_items[z]=Number(y[2]);n.initial_offset[z]=Number(y[3]);n.blog_url=y[4];n.show_title[z]=y[5];n.show_excerpt[z]=y[6];n.loop[z]=y[7];n.post_type[z]=y[8];n.category[z]=y[9];c(a(this),z);n.items[z]=a(this).find(".apc_item");n.list[z]=a(this).find(".apc_list");n.visible_container[z]=a(this).find(".apc_visible_container");var A=n.items[z].length*n.items[z].outerWidth(true);n.list[z].width(A);n.list_offset[z]=0;var x=n.visible_num[z]*n.items[z].outerWidth(true);n.visible_container[z].width(x);a(this).width(x);u(z)})};var c=function(y,x){y.find(".apc_tax_filter").each(function(){var z=a(this).attr("class").split(/\s+/);n.tax_filters[x]=new Array();n.tax_filters[x][z[1]]=a(this).val()})};var u=function(x){n.visible_container[x].siblings(".apc_arrow.apc_next").bind("click",{direction:"next",car_index:x},w);n.visible_container[x].siblings(".apc_arrow.apc_prev").bind("click",{direction:"prev",car_index:x},w);b(x,0)};var w=function(A){if(!a(this).hasClass("apc_inactive")){A.preventDefault();var y=A.data.car_index;if(A.data.direction=="next"){var z=n.list_offset[y]+n.visible_num[y]}else{var z=n.list_offset[y]-n.visible_num[y]}if(n.items[y].length>z&&z>=0){var C=z+n.visible_num[y]+n.preload_num[y];if(n.items[y].length<n.total_items[y]&&n.items[y].length<C&&!n.ajax_processing[y]){n.ajax_processing[y]=true;var B=n.initial_offset[y]+n.items[y].length;if(B>=n.total_items[y]){B=B-n.total_items[y];var x=Math.min(C-n.items[y].length,n.total_items[y]-n.items[y].length)}else{var x=C-n.items[y].length}e(z,y);k(B,x,y,false,z)}else{e(z,y);if(n.loop[y]&&n.items[y].length==n.total_items[y]&&(n.total_items[y]-z<n.visible_num[y])){v(z,y)}}}else{if(n.loop[y]){if(z<0){z=n.total_items[y]+z;s(z,y)}else{g(z,y)}}}}};var k=function(C,y,z,x,B){var A="action=ajax_apc_get_posts&offset="+C+"&num="+y+"&title="+n.show_title[z]+"&excerpt="+n.show_excerpt[z]+"&post_type="+n.post_type[z]+"&category="+n.category[z];for(j in n.tax_filters[z]){A+="&tax_"+j+"="+n.tax_filters[z][j]}a.ajax({type:"POST",url:n.blog_url+"/wp-admin/admin-ajax.php",data:A,success:function(D){f(D,z,x,B,C+y)},complete:function(){o(z,B)},})};var f=function(A,z,x,C,y){q(A,z);if(x){e(C,z)}var D=n.items[z].length;if(y>D&&n.initial_offset[z]>0){var B=Math.min(y-D,n.initial_offset[z]);n.ajax_processing[z]=true;k(0,B,z,x,C)}};var o=function(x,y){n.ajax_processing[x]=false;b(x,y)};var q=function(y,x){n.list[x].append(y);n.items[x]=n.list[x].find(".apc_item");var z=n.items[x].length*n.items[x].outerWidth(true);n.list[x].width(z)};var e=function(z,y){var x=-1*n.items[y].outerWidth(true)*z;n.list[y].animate({left:x+"px"},600);n.list_offset[y]=z;b(y,z)};var v=function(A,z){var y=n.visible_num[z]-(n.total_items[z]-A);var x=n.items[z].slice(0,y).clone();q(x,z)};var g=function(z,y){l(z,y);var x=-1*n.items[y].outerWidth(true)*z;n.list[y].animate({left:x+"px"},600,function(){t(z,y)});n.list_offset[y]=z-n.total_items[y];b(y,z-n.total_items[y])};var s=function(z,y){l(z+n.visible_num[y],y);var x=-1*n.items[y].outerWidth(true)*(z+n.visible_num[y]);n.list[y].css({left:x});x=-1*n.items[y].outerWidth(true)*z;n.list[y].animate({left:x+"px"},600,function(){d(z,y)});n.list_offset[y]=z;b(y,z)};var l=function(z,y){var A=n.items[y].length-n.total_items[y];var x=n.items[y].slice(A,n.visible_num[y]+z-n.items[y].length+A).clone();q(x,y)};var t=function(A,y){n.items[y].slice(n.total_items[y]).remove();n.items[y]=n.items[y].slice(0,n.total_items[y]);var z=n.total_items[y]*n.items[y].outerWidth(true);var x=-1*(A-n.total_items[y])*n.items[y].outerWidth(true);n.list[y].css({left:x,width:z+"px"})};var d=function(A,y){var x=n.visible_num[y]-(n.total_items[y]-A);n.items[y].slice(n.total_items[y]+x).remove();n.items[y]=n.items[y].slice(0,n.total_items[y]+x);var z=(n.total_items[y]+x)*n.items[y].outerWidth(true);n.list[y].width(z)};var b=function(x,y){r(n.visible_container[x].siblings(".apc_arrow"));if(y<=0&&(!n.loop[x]||n.items[x].length<n.total_items[x])){i(n.visible_container[x].siblings(".apc_prev"))}if(n.items[x].length<=y+n.visible_num[x]){if(n.ajax_processing[x]){m(n.visible_container[x].siblings(".apc_next"))}else{if(!n.loop[x]){i(n.visible_container[x].siblings(".apc_next"))}}}};var r=function(x){x.addClass("apc_active");x.removeClass("apc_inactive");x.removeClass("apc_ajax")};var m=function(x){x.addClass("apc_ajax");x.removeClass("apc_inactive");x.removeClass("apc_active")};var i=function(x){x.addClass("apc_inactive");x.removeClass("apc_ajax");x.removeClass("apc_active")};h()};a(function(){new a.fn.apc()})})(jQuery);